(this.webpackJsonpdonezo=this.webpackJsonpdonezo||[]).push([[0],{107:function(e,t,a){},111:function(e,t,a){},112:function(e,t,a){},155:function(e,t,a){e.exports=a(248)},160:function(e,t,a){},161:function(e,t,a){},185:function(e,t,a){},188:function(e,t,a){},189:function(e,t,a){},197:function(e,t,a){},198:function(e,t,a){},199:function(e,t,a){},200:function(e,t,a){},201:function(e,t,a){},202:function(e,t,a){},203:function(e,t,a){},204:function(e,t,a){},207:function(e,t,a){},208:function(e,t,a){},209:function(e,t,a){},211:function(e,t,a){},212:function(e,t,a){},213:function(e,t,a){},214:function(e,t,a){},243:function(e,t){},246:function(e,t,a){},247:function(e,t,a){},248:function(e,t,a){"use strict";a.r(t);var n=a(0),o=a.n(n),s=a(20),r=a.n(s),c=(a(160),a(17)),i=a(48),l=(a(161),a(162),a(8)),m=a(9),u=a(5),d=a(10),h=a(11),p=a(16),g=a.n(p),v=function(e){e?g.a.defaults.headers.common.Authorization=e:delete g.a.defaults.headers.common.Authorization},E=a(73),f=a.n(E),b=function(e){return{type:"SET_CURRENT_USER",payload:e}},N=function(){return function(e){localStorage.removeItem("jwtToken"),v(!1),e(b({}))}},T=a(13),y=function(e,t){return function(a){var n={userData:e,teamData:t};g.a.post("/teams/join",n).then((function(e){alert(e.data),a({type:"JOIN_TEAM",payload:e.data})})).catch((function(e){return console.log(e)}))}},C=function(e){return function(t){g.a.get("/teams/".concat(e)).then((function(e){t({type:"GET_TEAM_WITH_ID",payload:e.data})})).catch((function(e){return console.log(e)}))}},k=function(e,t){return function(a){g.a.post("/teams/completetodo",{teamData:e,todoData:t}).then((function(e){console.log(e),a({type:"COMPLETE_TODO",payload:e.data})})).catch((function(e){return console.log(e)}))}},O=function(e,t){return function(a){g.a.post("/teams/deletetodo",{teamData:e,todoData:t}).then((function(e){console.log(e),a({type:"DELETE_TODO",payload:{}})}))}},D=a(275),j=(a(68),a(82),function(e){Object(h.a)(a,e);var t=Object(d.a)(a);function a(){var e;return Object(l.a)(this,a),(e=t.call(this)).setWrapperRef=e.setWrapperRef.bind(Object(u.a)(e)),e.handleOutsideClick=e.handleOutsideClick.bind(Object(u.a)(e)),e}return Object(m.a)(a,[{key:"componentDidMount",value:function(){document.addEventListener("mousedown",this.handleOutsideClick)}},{key:"componentWillUnmount",value:function(){document.removeEventListener("mousedown",this.handleClickOutside)}},{key:"setWrapperRef",value:function(e){this.wrapperRef=e}},{key:"handleOutsideClick",value:function(e){var t=this.props,a=t.showModal,n=t.handleClose;a&&this.wrapperRef&&!this.wrapperRef.contains(e.target)&&n()}},{key:"render",value:function(){var e=this.props,t=e.showModal,a=e.handleLogout,n=e.children,s=t?"member-modal-container":"display-none";return document.body.style.overflow=t?"hidden":"unset",o.a.createElement("div",{className:s,ref:this.setWrapperRef},o.a.createElement(D.a,{className:"settings-modal-main"},n&&n.length>0?n.map((function(e){return o.a.createElement("p",{onClick:a,className:"member-name child-name"},e)})):null))}}]),a}(o.a.Component)),S=a(75),w=a.n(S),_=(a(185),function(e){Object(h.a)(a,e);var t=Object(d.a)(a);function a(){var e;return Object(l.a)(this,a),(e=t.call(this)).showModal=function(){e.setState({showModal:!0})},e.hideModal=function(){e.setState({showModal:!1})},e.state={teams:[],currTeam:"",settings:["Log out"],showModal:!1},e.onLogoutClick=e.onLogoutClick.bind(Object(u.a)(e)),e.isUserInTeam=e.isUserInTeam.bind(Object(u.a)(e)),e.showModal=e.showModal.bind(Object(u.a)(e)),e.hideModal=e.hideModal.bind(Object(u.a)(e)),e}return Object(m.a)(a,[{key:"componentDidMount",value:function(){var e=this,t=this.props.auth.user.id;g.a.get("http://localhost:5000/teams/",t).then((function(t){return e.setState({teams:t.data})}))}},{key:"isUserInTeam",value:function(e){for(var t=this.props.auth.user,a=e.teamMembers,n=!1,o=0;o<a.length;o++)if(a[o].user._id===t.id){n=!0;break}return n}},{key:"onLogoutClick",value:function(e){e.preventDefault(),this.props.logoutUser(),window.location.reload()}},{key:"render",value:function(){var e=this,t=this.props.auth.user,a=this.state.teams,n=a&&a.length>0?a.map((function(t){return e.isUserInTeam(t)?o.a.createElement(c.b,{className:"team-item-link",to:{pathname:"/team/".concat(t._id),state:{teamId:t._id}}},o.a.createElement(D.a,{className:"team-item"},o.a.createElement("li",{className:"color-blue"},t.teamName))):null})):null;return o.a.createElement("div",{className:"home-container"},o.a.createElement(D.a,{className:"home-card-container"},o.a.createElement("div",{className:"logout-container"},o.a.createElement(w.a,{fontSize:"large",onClick:this.showModal,className:"settings-icon"}),o.a.createElement(j,{showModal:this.state.showModal,handleClose:this.hideModal,children:this.state.settings,handleLogout:this.onLogoutClick})),o.a.createElement("h2",{className:"welcome-text"},"Welcome, ",t.firstName),o.a.createElement("h5",null,"Choose your team."),o.a.createElement("ul",{className:"list-of-user-teams"},n),o.a.createElement(c.b,{className:"home-btn",to:"/teamsearch"},"Search for a new team!"),o.a.createElement(c.b,{className:"home-btn create-team",to:"/createTeam"},"Create a new team here")))}}]),a}(o.a.Component)),x=Object(T.b)((function(e){return{auth:e.auth,team:e.team}}),{logoutUser:N,joinTeam:y})(_),M=a(279),A=a(28),I=a.n(A),L=a(49),W=a.n(L),R=a(39),U=a.n(R),B=a(23),P=function(e){var t=e.tags,a=e.addTag,n=e.deleteTag,s=e.currTeam,r=s.teamTags&&s.teamTags.length>0?s.teamTags.map((function(e){return o.a.createElement("option",{value:e.title,key:e._id,className:"tag-option"},e.title)})):null;return o.a.createElement("div",{className:"select-tag-container"},t&&t.length>0?t.map((function(e){return o.a.createElement("div",{id:e._id,key:e._id,className:"tagContainer added-tag",style:{backgroundColor:e.color},onClick:n},o.a.createElement("p",{id:e._id},e.title))})):null,o.a.createElement("select",{className:"select-tag",id:"select-tag"},r),o.a.createElement("button",{onClick:a,className:"btn"},"Add"))},z=function(e,t){return function(a){g.a.post("/teams/deletenote",{noteData:e,teamData:t}).then((function(t){g.a.post("/notes/delete",{noteData:e}).then((function(e){console.log(e),a({type:"DELETE_NOTE",payload:{deleted:!0}})})).catch((function(e){return console.log("error!!",e)}))})).catch((function(e){return console.log("error: ",e)}))}},H=(a(188),function(e){Object(h.a)(a,e);var t=Object(d.a)(a);function a(e){var n;return Object(l.a)(this,a),(n=t.call(this,e)).selectTag=function(e){console.log(e),n.setState({selectedTag:e.target.innerText})},n.deleteTag=function(e){var t=e.target.id;n.setState((function(e){for(var a=e.tags,n=0;n<a.length;n++)a[n]._id===t&&(console.log(a[n]),a.splice(n,1));return{tags:a}}))},n.addTag=function(e){e.preventDefault();var t=document.getElementById("select-tag").value,a=n.state.tags;if(a.length>=3)alert("You can only add up to 3 tags");else{for(var o=0;o<a.length;o++)if(a[o].title===t)return void alert("You already added this tag");for(var s=n.props.currTeam.teamTags,r={},c=0;c<s.length;c++)if(s[c].title===t){r=s[c];break}n.setState((function(e){return{tags:e.tags.concat(r)}}))}},n.state={title:"",body:"",pinned:!1,fromChat:!1,tags:[],selectedTag:{}},n.onChange=n.onChange.bind(Object(u.a)(n)),n.onSubmit=n.onSubmit.bind(Object(u.a)(n)),n.onDeleteNote=n.onDeleteNote.bind(Object(u.a)(n)),n}return Object(m.a)(a,[{key:"componentDidMount",value:function(){console.log(this.props);var e=this.props.currNote;e&&this.setState({title:e.noteTitle,body:e.noteBody,pinned:e.pinned,tags:e.tags,fromChat:this.props.fromChat})}},{key:"componentWillReceiveProps",value:function(e){null!==e.currNote?e.currNote!==this.props.currNote&&this.setState({title:e.currNote.noteTitle,body:e.currNote.noteBody,pinned:e.currNote.pinned,tags:e.currNote.tags,fromChat:e.fromChat}):this.setState({title:"",body:"",pinned:!1})}},{key:"onSubmit",value:function(e){e.preventDefault();var t=this.props.auth.user,a={noteId:this.props.currNote._id,noteTitle:this.state.title,noteBody:this.state.body,author:t.firstName+" "+t.lastName,pinned:this.state.pinned,tags:this.state.tags};if(console.log(this.state.fromChat),0===Object.entries(this.props.currNote).length||this.state.fromChat){var n=this.props.currTeam;this.props.addNoteToTeam(n,a)}else this.props.updateNote(a)}},{key:"onDeleteNote",value:function(e){e.preventDefault(),console.log(this.props.currNote),this.props.deleteNote(this.props.currNote)}},{key:"onChange",value:function(e){var t=e.target.name;this.setState(Object(B.a)({},t,e.target.value))}},{key:"render",value:function(){var e=this,t=this.props.currTeam,a=this.state.tags;return o.a.createElement("div",{className:"edit-note-container"},o.a.createElement("form",null,o.a.createElement(M.a,{container:!0,spacing:1},o.a.createElement(M.a,{item:!0,xs:10},o.a.createElement("input",{type:"text",name:"title",className:"note-title no-border",onChange:this.onChange,value:this.state.title,autoComplete:"off",placeholder:"What's on your mind?"})),o.a.createElement(M.a,{item:!0,xs:2},this.state.pinned?o.a.createElement(U.a,{className:"pinned-btn",onClick:function(t){t.preventDefault(),e.setState({pinned:!1})}}):o.a.createElement(W.a,{className:"pinned-btn",onClick:function(t){t.preventDefault(),e.setState({pinned:!0})}}))),o.a.createElement("textarea",{className:"note-body no-border",name:"body",rows:"12",onChange:this.onChange,value:this.state.body,placeholder:"Starting typing..."}),o.a.createElement(P,{tags:a,addTag:this.addTag,deleteTag:this.deleteTag,currTeam:t}),o.a.createElement("div",{className:"btn-container"},o.a.createElement("button",{className:"submit-btn btn",onClick:this.onSubmit},"Submit"),o.a.createElement("button",{className:"delete-btn btn",onClick:this.onDeleteNote},"Delete"))))}}]),a}(o.a.Component)),Y=Object(T.b)((function(e){return{auth:e.auth}}),{updateNote:function(e){return function(t){g.a.post("/notes/update",{noteData:e}).then((function(e){console.log(e),t({type:"UPDATE_NOTE",payload:e.data})}))}},deleteNote:z,addNoteToTeam:function(e,t){return function(a){g.a.post("/notes/add",{teamData:e,noteData:t}).then((function(t){console.log(t);var n=t.data._id;g.a.post("/teams/addnote",{teamData:e,noteId:n}).then((function(e){console.log(e),a({type:"ADD_NOTE_TO_TEAM",payload:t.data})}))})).catch((function(e){return console.log(e)}))}}})(H),F=a(14),G=(a(189),function(e){Object(h.a)(a,e);var t=Object(d.a)(a);function a(){var e;return Object(l.a)(this,a),(e=t.call(this)).state={currNote:{},fromChat:!1},e.onContextItemClick=e.onContextItemClick.bind(Object(u.a)(e)),e}return Object(m.a)(a,[{key:"componentDidUpdate",value:function(e){this.props.note.lastAddedNote!=e.note.lastAddedNote&&window.location.reload()}},{key:"componentDidMount",value:function(){var e=this.props.match.params.id;if(this.props.getTeamWithId(e),this.props.location.state){var t=this.props.location.state.currNote,a=this.props.location.state.fromChat;this.setState({currNote:t,fromChat:a})}}},{key:"onContextItemClick",value:function(e,t){var a=this.props.team.currTeam;console.log(a),this.props.deleteNote(t.noteData,a),window.location.reload()}},{key:"render",value:function(){var e=this,t=this.props.team.currTeam,a=t.teamNotes;console.log(a);var n=a&&a.length>0?a.map((function(t){var a=new Date(t.updatedAt);return t.pinned?e.state.currNote===t?o.a.createElement("div",{key:t._id},o.a.createElement(F.b,{id:t._id},o.a.createElement(D.a,{key:t._id,onClick:function(){e.state.currNote===t?e.setState({currNote:null}):e.setState({currNote:t})},className:"note-card selected"},o.a.createElement(M.a,{container:!0,spacing:1},o.a.createElement(M.a,{item:!0,xs:10},o.a.createElement("p",{className:"note-details"},"Last updated: ",a.toLocaleString())),o.a.createElement(M.a,{item:!0,xs:2},o.a.createElement(U.a,{className:"pinned-btn"}))),o.a.createElement("h4",{className:"indiv-note-title"},t.noteTitle),o.a.createElement("p",null,t.noteBody.slice(0,110)),o.a.createElement("p",{className:"note-details note-author"},t.author),t.tags&&t.tags.length>0?t.tags.map((function(t){return o.a.createElement("div",{id:t._id,key:t._id,className:"sm-tag-container",style:{backgroundColor:t.color},onClick:e.deleteTag},o.a.createElement("p",{id:t._id},t.title))})):null)),o.a.createElement(F.a,{id:t._id,className:"context-menu-container"},o.a.createElement(F.c,{className:"context-menu-item",data:{noteData:t},onClick:e.onContextItemClick},"Delete"))):o.a.createElement("div",{key:t._id},o.a.createElement(F.b,{id:t._id},o.a.createElement(D.a,{className:"note-card",key:t._id,onClick:function(){e.state.currNote===t?e.setState({currNote:null}):e.setState({currNote:t})}},o.a.createElement(M.a,{container:!0,spacing:1},o.a.createElement(M.a,{item:!0,xs:10},o.a.createElement("p",{className:"note-details"},"Last updated: ",a.toLocaleString())),o.a.createElement(M.a,{item:!0,xs:2},o.a.createElement(U.a,{className:"pinned-btn"}))),o.a.createElement("h4",{className:"indiv-note-title"},t.noteTitle),o.a.createElement("p",null,t.noteBody.slice(0,110)),o.a.createElement("p",{className:"note-details note-author"},t.author),t.tags&&t.tags.length>0?t.tags.map((function(t){return o.a.createElement("div",{id:t._id,key:t._id,className:"sm-tag-container",style:{backgroundColor:t.color},onClick:e.deleteTag},o.a.createElement("p",{id:t._id},t.title))})):null)),o.a.createElement(F.a,{id:t._id,className:"context-menu-container"},o.a.createElement(F.c,{className:"context-menu-item",data:{noteData:t},onClick:e.onContextItemClick},"Delete"))):null})):null,s=a&&a.length>0?a.map((function(t){var a=new Date(t.updatedAt);return t.pinned?null:e.state.currNote===t?o.a.createElement("div",{key:t._id},o.a.createElement(F.b,{id:t._id},o.a.createElement(D.a,{key:t._id,onClick:function(){e.state.currNote===t?e.setState({currNote:null}):e.setState({currNote:t})},className:"note-card selected"},o.a.createElement(M.a,{container:!0,spacing:1},o.a.createElement(M.a,{item:!0,xs:10},o.a.createElement("p",{className:"note-details"},"Last updated: ",a.toLocaleString())),o.a.createElement(M.a,{item:!0,xs:2},o.a.createElement(W.a,{className:"pinned-btn"}))),o.a.createElement("h4",{className:"indiv-note-title"},t.noteTitle),o.a.createElement("p",null,t.noteBody.slice(0,110)),o.a.createElement("p",{className:"note-details note-author"},t.author),t.tags&&t.tags.length>0?t.tags.map((function(t){return o.a.createElement("div",{id:t._id,key:t._id,className:"sm-tag-container",style:{backgroundColor:t.color},onClick:e.deleteTag},o.a.createElement("p",{id:t._id},t.title))})):null)),o.a.createElement(F.a,{id:t._id,className:"context-menu-container"},o.a.createElement(F.c,{className:"context-menu-item",data:{noteData:t},onClick:e.onContextItemClick},"Delete"))):o.a.createElement("div",{key:t._id},o.a.createElement(F.b,{id:t._id},o.a.createElement(D.a,{className:"note-card",key:t._id,onClick:function(){e.state.currNote===t?e.setState({currNote:null}):e.setState({currNote:t})}},o.a.createElement(M.a,{container:!0,spacing:1},o.a.createElement(M.a,{item:!0,xs:10},o.a.createElement("p",{className:"note-details"},"Last updated: ",a.toLocaleString())),o.a.createElement(M.a,{item:!0,xs:2},o.a.createElement(W.a,{className:"pinned-btn"}))),o.a.createElement("h4",{className:"indiv-note-title"},t.noteTitle),o.a.createElement("p",null,t.noteBody.slice(0,110)),o.a.createElement("p",{className:"note-details note-author"},t.author),t.tags&&t.tags.length>0?t.tags.map((function(t){return o.a.createElement("div",{id:t._id,key:t._id,className:"sm-tag-container",style:{backgroundColor:t.color},onClick:e.deleteTag},o.a.createElement("p",{id:t._id},t.title))})):null)),o.a.createElement(F.a,{id:t._id,className:"context-menu-container"},o.a.createElement(F.c,{className:"context-menu-item",data:{noteData:t},onClick:e.onContextItemClick},"Delete")))})):null;return o.a.createElement("div",{className:"total-notes-container"},o.a.createElement(M.a,{container:!0,spacing:2},o.a.createElement(M.a,{item:!0,xs:1},o.a.createElement(I.a,{fontSize:"large",className:"back-btn",onClick:function(){return e.props.history.push("/team/".concat(t._id))}})),o.a.createElement(M.a,{item:!0,xs:11},o.a.createElement("h1",{className:"note-list-title"},"Notes for ",t.teamName))),o.a.createElement(M.a,{container:!0,spacing:2},o.a.createElement(M.a,{className:"note-list-container ",item:!0,xs:4},n,s),o.a.createElement(M.a,{item:!0,xs:8,className:"edit-note-container"},o.a.createElement(Y,{currNote:this.state.currNote,currTeam:t,fromChat:this.state.fromChat}))))}}]),a}(o.a.Component)),J=Object(T.b)((function(e){return{team:e.team,note:e.note}}),{getTeamWithId:C,deleteNote:z})(G),V=function(e){Object(h.a)(a,e);var t=Object(d.a)(a);function a(){var e;Object(l.a)(this,a);for(var n=arguments.length,o=new Array(n),s=0;s<n;s++)o[s]=arguments[s];return(e=t.call.apply(t,[this].concat(o))).onContextItemClick=function(t,a){var n=e.props.currTeam;console.log(n),e.props.deleteNote(a.noteData,n),window.location.reload()},e}return Object(m.a)(a,[{key:"render",value:function(){var e=this.props,t=e.note,a=e.currNote,n=e.setCurrNote,s=new Date(t.updatedAt);return o.a.createElement("div",{key:t._id},o.a.createElement(F.b,{id:t._id},o.a.createElement(D.a,{className:"note-card",key:t._id,onClick:function(){n(a===t?null:t)}},o.a.createElement(M.a,{container:!0,spacing:1},o.a.createElement(M.a,{item:!0,xs:10},o.a.createElement("p",{className:"note-details"},"Last updated: ",s.toLocaleString())),o.a.createElement(M.a,{item:!0,xs:2},o.a.createElement(W.a,{className:"pinned-btn"}))),o.a.createElement("h4",{className:"indiv-note-title"},t.noteTitle),o.a.createElement("p",null,t.noteBody.slice(0,110)),o.a.createElement("p",{className:"note-details note-author"},t.author),t.tags&&t.tags.length>0?t.tags.map((function(e){return o.a.createElement("div",{id:e._id,key:e._id,className:"sm-tag-container",style:{backgroundColor:e.color}},o.a.createElement("p",{id:e._id},e.title))})):null)),o.a.createElement(F.a,{id:t._id,className:"context-menu-container"},o.a.createElement(F.c,{className:"context-menu-item",data:{noteData:t},onClick:this.onContextItemClick},"Delete")))}}]),a}(o.a.Component),K=Object(T.b)(null,{deleteNote:z})(V),q=a(132),X=a.n(q),$=(a(107),a(53)),Q=a.n($),Z={content:{top:"50%",left:"50%",right:"auto",bottom:"auto",marginRight:"-50%",transform:"translate(-50%, -50%)"}};Q.a.setAppElement("#root");var ee=function(e){Object(h.a)(a,e);var t=Object(d.a)(a);function a(){var e;return Object(l.a)(this,a),(e=t.call(this)).setCurrNote=function(t){return e.setState({currNote:t})},e.state={currNote:{},fromChat:!1,modalOpen:!1},e}return Object(m.a)(a,[{key:"componentDidMount",value:function(){var e=this.props.match.params.teamid;this.props.getTeamWithId(e)}},{key:"render",value:function(){var e=this,t=this.props.team.currTeam,a=t.teamTags,n=t.teamNotes,s=this.state,r=s.currNote,i=s.modalOpen;return console.log(i),o.a.createElement("div",{className:"all-notes-container",id:"all-notes-container"},o.a.createElement(Q.a,{isOpen:i,onRequestClose:function(){return e.setState({modalOpen:!1})},style:{modalStyles:Z}},o.a.createElement("p",{className:"exit-modal",onClick:function(){return e.setState({modalOpen:!1})}},"X"),o.a.createElement(Y,{currNote:r,currTeam:t,fromChat:this.state.fromChat})),o.a.createElement("div",{className:"header-container"},o.a.createElement(I.a,{fontSize:"large",className:"back-btn",onClick:function(){return e.props.history.goBack()}}),o.a.createElement("h1",{className:"header-text"},"Notes"),o.a.createElement("button",{className:"add-btn",onClick:function(){return e.setState({modalOpen:!0})}},"Add")),o.a.createElement("h3",{className:"section-title"},"Tags"),o.a.createElement("div",{className:"folder"},a&&a.length>0?a.map((function(e){return o.a.createElement(c.b,{to:{pathname:"/team/".concat(t._id,"/notes/tag/").concat(e._id),state:{currTeam:t,tag:e}},key:e._id,className:"tag-folder-link"},o.a.createElement("p",{className:"tag-folder-item"},o.a.createElement(X.a,{className:"folder-icon"}),e.title))})):null),o.a.createElement("h3",{className:"section-title"},"Untagged notes"),o.a.createElement("div",{className:"untagged-notes"},n&&n.length>0?n.map((function(a){return 0===a.tags.length?o.a.createElement("div",{onClick:function(){return e.setState({modalOpen:!0})}},o.a.createElement(K,{key:a._id,currTeam:t,note:a,currNote:e.state.currNote,setCurrNote:e.setCurrNote})):null})):o.a.createElement("p",null,"No notes to show!")))}}]),a}(o.a.Component),te=Object(T.b)((function(e){return{team:e.team,note:e.note}}),{getTeamWithId:C})(ee),ae={content:{top:"50%",left:"50%",right:"auto",bottom:"auto",marginRight:"-50%",transform:"translate(-50%, -50%)"}};Q.a.setAppElement("#root");var ne,oe=function(e){Object(h.a)(a,e);var t=Object(d.a)(a);function a(){var e;return Object(l.a)(this,a),(e=t.call(this)).findNotesWithTag=function(e,t){for(var a=[],n=0;n<e.length;n++)for(var o=0;o<e[n].tags.length;o++)if(e[n].tags[o]._id.toString()===t){a.push(e[n]);break}return a},e.setCurrNote=function(t){return e.setState({currNote:t})},e.state={currNote:{},modalOpen:!1,fromChat:!1},e}return Object(m.a)(a,[{key:"render",value:function(){var e=this,t=this.props.location.state,a=t.currTeam,n=t.tag,s=this.props.match.params.tagid,r=this.state,c=r.currNote,i=r.fromChat,l=r.modalOpen,m=this.findNotesWithTag(a.teamNotes,s);return console.log(l),o.a.createElement("div",{className:"all-notes-container"},o.a.createElement(Q.a,{isOpen:l,onRequestClose:function(){return e.setState({modalOpen:!1})},style:{modalStyles:ae}},o.a.createElement("p",{className:"exit-modal",onClick:function(){return e.setState({modalOpen:!1})}},"X"),o.a.createElement(Y,{currNote:c,currTeam:a,fromChat:i})),o.a.createElement("div",{className:"header-container"},o.a.createElement(I.a,{fontSize:"large",className:"back-btn",onClick:function(){return e.props.history.goBack()}}),o.a.createElement("h1",{className:"section-title"},"tags/",n.title)),o.a.createElement("div",{style:{display:"flex",flexWrap:"wrap"}},m&&m.length>0?m.map((function(t){return o.a.createElement("div",{onClick:function(){return e.setState({modalOpen:!0})}},o.a.createElement(K,{key:t._id,currTeam:a,note:t,currNote:e.state.currNote,setCurrNote:function(t){return e.setState({currNote:t})}}))})):o.a.createElement("p",null,"No notes exist with this tag")))}}]),a}(o.a.Component),se=(a(197),function(e){Object(h.a)(a,e);var t=Object(d.a)(a);function a(){var e;return Object(l.a)(this,a),(e=t.call(this)).state={username:"",password:"",errors:""},e.onChange=e.onChange.bind(Object(u.a)(e)),e.onSubmit=e.onSubmit.bind(Object(u.a)(e)),e}return Object(m.a)(a,[{key:"componentDidMount",value:function(){this.props.auth.isAuthenticated&&this.props.history.push("/")}},{key:"componentWillReceiveProps",value:function(e){console.log(e),e.auth.isAuthenticated&&this.props.history.push("/"),e.error&&this.setState({errors:e.error.err})}},{key:"onChange",value:function(e){var t=e.target.name;this.setState(Object(B.a)({},t,e.target.value))}},{key:"onSubmit",value:function(e){e.preventDefault();var t={username:this.state.username,password:this.state.password};this.props.loginUser(t)}},{key:"render",value:function(){var e=this.state.errors;return console.log(e),o.a.createElement("div",{className:"center container"},o.a.createElement("h1",{className:"title-text"},"Login here."),o.a.createElement("form",{onSubmit:this.onSubmit,className:"center form-width"},o.a.createElement("label",{className:"create-label input-label"},"Username"),o.a.createElement("input",{className:"search-input",type:"text",name:"username",value:this.state.username,onChange:this.onChange}),o.a.createElement("label",{className:"create-label input-label"},"Password"),o.a.createElement("input",{className:"search-input",type:"password",name:"password",value:this.state.password,onChange:this.onChange}),o.a.createElement("span",{className:"error-text"},e),o.a.createElement("input",{className:"btn",type:"submit",value:"Login"}),o.a.createElement("p",{className:"m-20"},"Don't have an account? Register ",o.a.createElement(c.b,{className:"blue-link",to:"/register"},"here"))))}}]),a}(o.a.Component)),re=Object(T.b)((function(e){return{auth:e.auth,error:e.error}}),{loginUser:function(e){return function(t){g.a.post("/users/login",e).then((function(e){var a=e.data.token;localStorage.setItem("jwtToken",a),v(a);var n=f()(a);t(b(n))})).catch((function(e){t({type:"GET_ERRORS",payload:e.response.data})}))}}})(se),ce=(a(198),function(e){Object(h.a)(a,e);var t=Object(d.a)(a);function a(){var e;return Object(l.a)(this,a),(e=t.call(this)).state={username:"",password:"",email:"",firstName:"",lastName:"",errors:""},e.onSubmit=e.onSubmit.bind(Object(u.a)(e)),e.onChange=e.onChange.bind(Object(u.a)(e)),e}return Object(m.a)(a,[{key:"componentDidMount",value:function(){this.props.auth.isAuthenticated&&this.props.history.push("/")}},{key:"componentWillReceiveProps",value:function(e){e.error&&this.setState({errors:e.error.err})}},{key:"onChange",value:function(e){var t=e.target.name;this.setState(Object(B.a)({},t,e.target.value))}},{key:"onSubmit",value:function(e){e.preventDefault();var t={email:this.state.email,username:this.state.username,firstName:this.state.firstName,lastName:this.state.lastName,password:this.state.password};this.props.registerUser(t,this.props.history)}},{key:"render",value:function(){var e=this.state.errors;return o.a.createElement("div",{className:"center"},o.a.createElement("h1",{className:"title-text"},"Register here."),o.a.createElement("form",{className:"center form-width",onSubmit:this.onSubmit},o.a.createElement("label",{className:"create-label input-label"},"Email"),o.a.createElement("input",{className:"search-input",name:"email",type:"text",value:this.state.email,onChange:this.onChange}),o.a.createElement("label",{className:"create-label input-label"},"Username"),o.a.createElement("input",{className:"search-input",name:"username",type:"text",value:this.state.username,onChange:this.onChange}),o.a.createElement("label",{className:"create-label input-label"},"First Name"),o.a.createElement("input",{className:"search-input",name:"firstName",type:"text",value:this.state.firstName,onChange:this.onChange}),o.a.createElement("label",{className:"create-label input-label"},"Last Name"),o.a.createElement("input",{className:"search-input",name:"lastName",type:"text",value:this.state.lastName,onChange:this.onChange}),o.a.createElement("label",{className:"create-label input-label"},"Password"),o.a.createElement("input",{className:"search-input",name:"password",type:"password",value:this.state.password,onChange:this.onChange}),o.a.createElement("span",{className:"error-text"},e),o.a.createElement("input",{className:"btn",type:"submit",value:"Register"}),o.a.createElement("p",{className:"m-20"},"Have an account already? Login ",o.a.createElement(c.b,{className:"blue-link",to:"/login"},"here"))))}}]),a}(o.a.Component)),ie=Object(T.b)((function(e){return{auth:e.auth,error:e.error}}),{registerUser:function(e,t){return function(a){g.a.post("/users/register",e).then((function(e){console.log(e),t.push("/login")})).catch((function(e){a({type:"GET_ERRORS",payload:e.response.data})}))}}})(Object(i.f)(ce)),le=(a(199),function(e){Object(h.a)(a,e);var t=Object(d.a)(a);function a(e){var n;return Object(l.a)(this,a),(n=t.call(this,e)).state={teamName:"",teamDescription:"",teamMembers:[],teamNotes:[],currErrors:-1},n.possibErrors=["You need to enter a name and description"],n.onChange=n.onChange.bind(Object(u.a)(n)),n.onSubmit=n.onSubmit.bind(Object(u.a)(n)),n}return Object(m.a)(a,[{key:"onChange",value:function(e){var t=e.target.name;this.setState(Object(B.a)({},t,e.target.value))}},{key:"onSubmit",value:function(e){e.preventDefault();var t={user:this.props.auth.user.id,isAdmin:!0};if(this.setState({currErrors:-1}),""!==this.state.teamName.trim()&&""!==this.state.teamDescription.trim()){var a={teamName:this.state.teamName,teamDescription:this.state.teamDescription,teamMembers:[t],teamNotes:this.state.teamNotes};this.props.createTeam(a,this.props.history)}else this.setState({currErrors:0})}},{key:"render",value:function(){return console.log(this.props.auth),o.a.createElement("div",{className:"create-team-container center"},o.a.createElement("h1",{className:"create-team-title"},"Create your own team."),o.a.createElement("form",{onSubmit:this.onSubmit,className:"form-body"},o.a.createElement("div",{className:"form-body center"},o.a.createElement("label",{className:"create-label input-label"},"What's your team's name?"),o.a.createElement("input",{className:"search-input",name:"teamName",type:"text",value:this.state.teamName,onChange:this.onChange}),o.a.createElement("label",{className:"create-label input-label"},"How would you describe your team? Provide a description."),o.a.createElement("input",{className:"search-input",name:"teamDescription",type:"text",value:this.state.teamDescription,onChange:this.onChange}),-1!==this.state.currErrors?o.a.createElement("p",{className:"error"},this.possibErrors[this.state.currErrors]):null,o.a.createElement("input",{className:"btn",type:"submit",value:"Create your team"}))))}}]),a}(o.a.Component)),me=Object(T.b)((function(e){return{auth:e.auth,team:e.team}}),{createTeam:function(e,t){return function(a){g.a.post("/teams/add",e).then((function(e){console.log(e.data),t.push("/")})).catch((function(e){return console.log(e)}))}}})(le),ue=(a(200),function(e){Object(h.a)(a,e);var t=Object(d.a)(a);function a(){var e;return Object(l.a)(this,a),(e=t.call(this)).state={inputtedNum:"",errors:-1},e.possibErrors=["Incorrect secret number"],e.setWrapperRef=e.setWrapperRef.bind(Object(u.a)(e)),e.handleOutsideClick=e.handleOutsideClick.bind(Object(u.a)(e)),e.onChange=e.onChange.bind(Object(u.a)(e)),e.attemptJoin=e.attemptJoin.bind(Object(u.a)(e)),e}return Object(m.a)(a,[{key:"componentDidMount",value:function(){document.addEventListener("mousedown",this.handleOutsideClick)}},{key:"componentWillUnmount",value:function(){document.removeEventListener("mousedown",this.handleClickOutside)}},{key:"setWrapperRef",value:function(e){this.wrapperRef=e}},{key:"handleOutsideClick",value:function(e){var t=this.props,a=t.showModal,n=t.handleClose;a&&this.wrapperRef&&!this.wrapperRef.contains(e.target)&&n()}},{key:"onChange",value:function(e){var t=e.target.name;this.setState(Object(B.a)({},t,e.target.value))}},{key:"attemptJoin",value:function(e){e.preventDefault(),this.setState({errors:-1});var t=this.props,a=t.currTeam,n=t.joinTeam;this.state.inputtedNum===a.secretNum?(n(a._id),window.location.reload()):this.setState({errors:0}),this.setState({inputtedNum:""})}},{key:"render",value:function(){var e=this.props,t=e.showModal,a=e.currTeam,n=t?"join-modal-container":"display-none";return document.body.style.overflow=t?"hidden":"unset",o.a.createElement("div",{className:n,ref:this.setWrapperRef},o.a.createElement(D.a,{className:"join-modal-main"},o.a.createElement("h2",{className:"text-center"},a.teamName,"'s secret number."),o.a.createElement("div",{className:"input-secret"},o.a.createElement("input",{type:"text",name:"inputtedNum",value:this.state.inputtedNum,onChange:this.onChange,className:"search-input"}),o.a.createElement("button",{className:"btn",onClick:this.attemptJoin},"Join"),this.state.errors>-1?o.a.createElement("p",{className:"error-text"},this.possibErrors[this.state.errors]):null)))}}]),a}(o.a.Component)),de=(a(201),function(e){Object(h.a)(a,e);var t=Object(d.a)(a);function a(){var e;return Object(l.a)(this,a),(e=t.call(this)).showModal=function(){e.setState({showModal:!0})},e.hideModal=function(){e.setState({showModal:!1})},e.state={prompt:"",hasSearched:!1,showModal:!1},e.searchForTeamWithPrompt=e.searchForTeamWithPrompt.bind(Object(u.a)(e)),e.joinTeam=e.joinTeam.bind(Object(u.a)(e)),e.onChange=e.onChange.bind(Object(u.a)(e)),e.isUserInTeam=e.isUserInTeam.bind(Object(u.a)(e)),e}return Object(m.a)(a,[{key:"componentDidMount",value:function(){this.setState({prompt:""})}},{key:"joinTeam",value:function(e){var t={user:this.props.auth.user.id,isAdmin:!1};this.props.joinTeam(t,e)}},{key:"onChange",value:function(e){var t=e.target.name;this.setState(Object(B.a)({},t,e.target.value))}},{key:"searchForTeamWithPrompt",value:function(e){e.preventDefault();var t=this.state.prompt;this.setState({hasSearched:!0}),this.props.searchTeamWithPrompt(t)}},{key:"isUserInTeam",value:function(e){for(var t=this.props.auth.user,a=e.teamMembers,n=!1,o=0;o<a.length;o++)if(a[o].user._id===t.id){n=!0;break}return n}},{key:"render",value:function(){var e=this,t=this.props.teams.matchedTeams,a=t.length>0?t.map((function(t){return o.a.createElement("div",{className:"teamNames",key:t._id},o.a.createElement(D.a,{className:"searched-card"},o.a.createElement("h1",{className:"team-name"},t.teamName),o.a.createElement("h3",null,t.teamDescription.slice(0,100)),t.teamMembers&&t.teamMembers.length>0&&e.isUserInTeam(t)?o.a.createElement("p",{className:"join-btn"},"You are already in this team."):o.a.createElement("div",{className:"members-container"},o.a.createElement("button",{id:t._id,onClick:e.showModal,className:"join-btn btn"},"Join ",t.teamName),o.a.createElement(ue,{showModal:e.state.showModal,handleClose:e.hideModal,currTeam:t,joinTeam:e.joinTeam}))))})):null;return o.a.createElement("div",{className:"search-container"},o.a.createElement(c.b,{to:"/"},"Home"),o.a.createElement("div",{className:"search-bar"},o.a.createElement("form",{onSubmit:this.searchForTeamWithPrompt,className:"search-bar"},o.a.createElement("h1",{className:"search-prompt"},"Type in a team name."),o.a.createElement("input",{type:"text",name:"prompt",value:this.state.prompt,onChange:this.onChange,className:"search-input"}),o.a.createElement("input",{className:"submit-btn btn",type:"submit",value:"Search"})),o.a.createElement("div",{className:"matched-teams"},t.length>0?a:this.state.hasSearched?o.a.createElement("p",{className:"no-match"},"No teams matched your search \ud83d\ude22"):null)))}}]),a}(o.a.Component)),he=Object(T.b)((function(e){return{auth:e.auth,teams:e.team}}),{joinTeam:y,searchTeamWithPrompt:function(e){return function(t){g.a.get("/teams/").then((function(a){for(var n=[],o=0;o<a.data.length;o++){a.data[o].teamName.slice(0,e.length).toLowerCase()===e.toLowerCase()&&n.push(a.data[o])}t({type:"GET_TEAMS_WITH_PROMPT",payload:n})})).catch((function(e){return console.log(e)}))}}})(de),pe=a(62),ge=a.n(pe),ve=a(133),Ee=a.n(ve),fe=(a(202),function(e){Object(h.a)(a,e);var t=Object(d.a)(a);function a(){var e;return Object(l.a)(this,a),(e=t.call(this)).state={teamName:"",teamDescription:"",secretNum:"",teamMembers:[],updated:!1},e.onChange=e.onChange.bind(Object(u.a)(e)),e.onEditTeam=e.onEditTeam.bind(Object(u.a)(e)),e.setAdmin=e.setAdmin.bind(Object(u.a)(e)),e}return Object(m.a)(a,[{key:"componentDidMount",value:function(){console.log(this.props.location);var e=this.props.location.state.currTeam;this.setState({teamId:e._id,teamName:e.teamName,teamDescription:e.teamDescription,teamMembers:e.teamMembers,secretNum:e.secretNum})}},{key:"onChange",value:function(e){this.setState(Object(B.a)({},e.target.name,e.target.value))}},{key:"onEditTeam",value:function(e){e.preventDefault();for(var t=this.state,a=t.teamMembers,n=0,o=0;o<a.length;o++)a[o].isAdmin&&n++;0!==n?(this.props.editTeam(t),this.setState({updated:!0})):alert("You must have at least one admin")}},{key:"setAdmin",value:function(e,t,a){e.preventDefault();for(var n=this.state.teamMembers,o=0;o<n.length;o++)if(n[o].user._id===a.user._id){n[o].isAdmin=!t;break}this.setState({teamMembers:n})}},{key:"render",value:function(){var e=this;return o.a.createElement("div",{className:"edit-team-container"},o.a.createElement("div",{className:"back-title"},o.a.createElement(I.a,{fontSize:"large",className:"edit-back",onClick:function(){return e.props.history.goBack()}}),o.a.createElement("h1",{className:"edit-team-title"},"Change up your team.")),o.a.createElement(M.a,{container:!0,spacing:2,className:"edit-separator"},o.a.createElement(M.a,{item:!0,md:10,sm:12,className:"edit-team-container edit-items"},o.a.createElement("label",{className:"input-label"},"Name"),o.a.createElement("input",{className:"edit-search-input",type:"text",name:"teamName",onChange:this.onChange,value:this.state.teamName}),o.a.createElement("label",{className:"input-label"},"Description"),o.a.createElement("input",{className:"edit-search-input",type:"text",name:"teamDescription",onChange:this.onChange,value:this.state.teamDescription}),o.a.createElement("label",{className:"input-label"},"Secret Number"),o.a.createElement("input",{className:"edit-search-input",type:"text",name:"secretNum",onChange:this.onChange,value:this.state.secretNum})),o.a.createElement(M.a,{item:!0,md:2,xs:12,className:"members-edit-list"},o.a.createElement("label",{className:"input-label"},"Members"),this.state.teamMembers&&this.state.teamMembers.length>0?this.state.teamMembers.map((function(t){return o.a.createElement("div",{className:"edit-member-admin"},t.isAdmin?o.a.createElement(ge.a,{id:"is-admin",className:"admin color-blue scale-hover",fontSize:"small",onClick:function(a){return e.setAdmin(a,!0,t)}}):o.a.createElement(Ee.a,{id:"not-admin",className:"admin color-blue scale-hover",fontSize:"small",onClick:function(a){return e.setAdmin(a,!1,t)}}),o.a.createElement("p",null,t.user.firstName+" "+t.user.lastName))})):null)),this.state.updated?o.a.createElement("p",null,"Your team has been updated."):null,o.a.createElement("button",{className:"btn edit-team-btn",onClick:this.onEditTeam},"Submit"))}}]),a}(o.a.Component)),be=Object(T.b)(null,{editTeam:function(e){return function(t){g.a.post("/teams/update/".concat(e.teamId),e).then((function(e){console.log(e),t({type:"EDIT_TEAM",payload:e.data})})).catch((function(e){return console.log(e)}))}}})(fe),Ne=a(93),Te=a.n(Ne),ye=(a(203),function(e){Object(h.a)(a,e);var t=Object(d.a)(a);function a(){var e;return Object(l.a)(this,a),(e=t.call(this)).onContextItemClick=e.onContextItemClick.bind(Object(u.a)(e)),e}return Object(m.a)(a,[{key:"onContextItemClick",value:function(e,t){e.preventDefault();var a=this.props.currTeam;this.props.deleteNote(t.noteData,a),window.location.reload()}},{key:"render",value:function(){var e=this,t=this.props.currTeam;return t.teamNotes&&t.teamNotes.length>0?t.teamNotes.map((function(a){var n=new Date(a.updatedAt);return a.pinned?o.a.createElement("div",{key:a._id},o.a.createElement(F.b,{id:a._id},o.a.createElement(c.b,{to:{pathname:"/noteslist/".concat(t._id),state:{currNote:a}},className:"show-note"},o.a.createElement(D.a,{className:"home-note-content",onContextMenu:e.rightClickNote},o.a.createElement(M.a,{container:!0,spacing:1},o.a.createElement(M.a,{item:!0,xs:10},o.a.createElement("p",{className:"note-details"},"Last updated: ",n.toLocaleString())),o.a.createElement(M.a,{item:!0,xs:2},o.a.createElement(U.a,{className:"pinned-btn"}))),o.a.createElement("h6",{className:"home-note-title"},a.noteTitle),o.a.createElement("p",null,a.noteBody.slice(0,110)),o.a.createElement("p",{className:"note-details note-author"},"By, ",a.author),a.tags&&a.tags.length>0?a.tags.map((function(t){return o.a.createElement("div",{id:t._id,key:t._id,className:"sm-tag-container",style:{backgroundColor:t.color},onClick:e.deleteTag},o.a.createElement("p",{id:t._id},t.title))})):null))),o.a.createElement(F.a,{id:a._id,className:"context-menu-container"},o.a.createElement(F.c,{className:"context-menu-item",data:{noteData:a},onClick:e.onContextItemClick},"Delete"))):null})):o.a.createElement("p",null,"No notes yet!")}}]),a}(o.a.Component)),Ce=Object(T.b)((function(e){return{note:e.note}}),{deleteNote:z})(ye),ke=a(54),Oe=(a(204),function(e){Object(h.a)(a,e);var t=Object(d.a)(a);function a(){var e;return Object(l.a)(this,a),(e=t.call(this)).onContextItemClick=e.onContextItemClick.bind(Object(u.a)(e)),e.onToggle=e.onToggle.bind(Object(u.a)(e)),e}return Object(m.a)(a,[{key:"onContextItemClick",value:function(e,t){e.preventDefault();var a=t.todoData,n=this.props.currTeam;"delete"===t.type?this.props.deleteTeamTodo(n,a):"edit"===t.type&&this.props.history.push({pathname:"/edittodo",state:{teamData:n,currTodo:a}})}},{key:"onToggle",value:function(e){console.log(e.target.id,e.target.value);var t={id:e.target.id},a=this.props.currTeam;this.props.completeTeamTodo(a,t)}},{key:"render",value:function(){var e=this,t=this.props.currTeam;return console.log(t),t.teamTodos&&t.teamTodos.length>0?t.teamTodos.map((function(t){return o.a.createElement("div",{key:t._id},o.a.createElement(F.b,{id:t._id},o.a.createElement(D.a,{className:"todo-container",key:t._id},o.a.createElement(ke.a,null,o.a.createElement(ke.a.Check,{custom:!0,className:"todo-check-form",type:"checkbox",id:t._id,label:t.todoText,checked:t.isCompleted,onChange:e.onToggle})),o.a.createElement("p",null,"Assigned:",t.assignee&&t.assignee.length>0?" "+t.assignee:"None"),t.tags&&t.tags.length>0?t.tags.map((function(t){return o.a.createElement("div",{id:t._id,key:t._id,className:"sm-tag-container todo-tag",style:{backgroundColor:t.color},onClick:e.deleteTag},o.a.createElement("p",{id:t._id},t.title))})):null)),o.a.createElement(F.a,{id:t._id,className:"context-menu-container"},o.a.createElement(F.c,{id:"edit",className:"context-menu-item",data:{todoData:t,type:"edit"},onClick:e.onContextItemClick},"Edit"),o.a.createElement(F.c,{id:"delete",className:"context-menu-item",data:{todoData:t,type:"delete"},onClick:e.onContextItemClick},"Delete")))})):o.a.createElement("p",null,"No todos yet!")}}]),a}(o.a.Component)),De=Object(T.b)(null,{deleteTeamTodo:O,completeTeamTodo:k})(Oe),je=a(63),Se=a.n(je),we=(a(207),function(e){Object(h.a)(a,e);var t=Object(d.a)(a);function a(){var e;return Object(l.a)(this,a),(e=t.call(this)).onContextItemClick=e.onContextItemClick.bind(Object(u.a)(e)),e}return Object(m.a)(a,[{key:"sortFutureEvents",value:function(e){return e.sort((function(e,t){return(e=new Date(e.eventStartTime))<(t=new Date(t.eventStartTime))?-1:e>t?1:0})),e}},{key:"onContextItemClick",value:function(e,t){e.preventDefault();var a=t.eventData,n=this.props.team.currTeam;this.props.deleteEvent(a,n),window.location.reload()}},{key:"render",value:function(){var e=this,t=this.props.currTeam,a=0,n=t.teamEvents?this.sortFutureEvents(t.teamEvents):t.teamEvents,s=n&&n.length>0?n.map((function(t){var n=new Date(t.eventStartTime),s=new Date(t.eventEndTime);return new Date<n?o.a.createElement("div",{key:t._id},o.a.createElement(F.b,{id:t._id},o.a.createElement(c.b,{className:"link-to-edit",to:{pathname:"/editevent",state:{event:t}}},o.a.createElement(D.a,{className:"event-card"},o.a.createElement("h4",{className:"event-title color-blue"},t.eventTitle),o.a.createElement("p",null,t.eventDescription.slice(0,100)),o.a.createElement("div",{className:"event-details"},o.a.createElement(M.a,{container:!0,spacing:2},o.a.createElement(M.a,{item:!0,xs:2},o.a.createElement(Se.a,{className:"location-icon color-blue"})),o.a.createElement(M.a,{item:!0,xs:10},o.a.createElement("p",null,t.eventLocation))),o.a.createElement("p",null,"Start: ",n.toLocaleString()),o.a.createElement("p",null,"End: ",s.toLocaleString()))))),o.a.createElement(F.a,{id:t._id,className:"context-menu-container"},o.a.createElement(F.c,{className:"context-menu-item",data:{eventData:t},onClick:e.onContextItemClick},"Delete"))):(a++,null)})):o.a.createElement("p",null,"No events yet!");return o.a.createElement("div",{className:"home-events"},o.a.createElement("div",{className:"all-events-container center-cards"},s),o.a.createElement("p",{className:"past-events-text"},"You have ",a," past event(s)."))}}]),a}(o.a.Component)),_e=a(137),xe=a.n(_e),Me=a(136),Ae=a.n(Me),Ie=a(26),Le=function(e){Object(h.a)(a,e);var t=Object(d.a)(a);function a(){var e;return Object(l.a)(this,a),(e=t.call(this)).setWrapperRef=e.setWrapperRef.bind(Object(u.a)(e)),e.handleOutsideClick=e.handleOutsideClick.bind(Object(u.a)(e)),e}return Object(m.a)(a,[{key:"componentDidMount",value:function(){document.addEventListener("mousedown",this.handleOutsideClick)}},{key:"componentWillUnmount",value:function(){document.removeEventListener("mousedown",this.handleClickOutside)}},{key:"setWrapperRef",value:function(e){this.wrapperRef=e}},{key:"handleOutsideClick",value:function(e){var t=this.props,a=t.showModal,n=t.handleClose;a&&this.wrapperRef&&!this.wrapperRef.contains(e.target)&&n()}},{key:"onContextItemClick",value:function(e,t){e.preventDefault(),console.log(t)}},{key:"render",value:function(){var e=this,t=this.props,a=t.showModal,n=(t.handleClose,t.members),s=a?"member-modal-container":"display-none";document.body.style.overflow=a?"hidden":"unset";return o.a.createElement("div",{className:s,ref:this.setWrapperRef},o.a.createElement(D.a,{className:"modal-main"},o.a.createElement("p",{className:"member-title"},"Members"),n&&n.length>0?n.map((function(t){return function(t){return o.a.createElement("div",{key:t.user._id},o.a.createElement(F.b,{id:t.user._id},t.isAdmin?o.a.createElement("p",{key:t.user._id,className:"member-name admin"},t.user.firstName+" "+t.user.lastName," (Admin)"):o.a.createElement("p",{key:t.user._id,className:"member-name"},t.user.firstName+" "+t.user.lastName)),o.a.createElement(F.a,{id:t.user._id,className:"memb-context-menu"},o.a.createElement(F.c,{className:"context-menu-item",data:{userData:t},onClick:e.onContextItemClick},"Make Admin")))}(t)})):null))}}]),a}(o.a.Component),We=(a(208),function(e){Object(h.a)(a,e);var t=Object(d.a)(a);function a(){var e;return Object(l.a)(this,a),(e=t.call(this)).state={secretNumText:"Secret Key"},e.setWrapperRef=e.setWrapperRef.bind(Object(u.a)(e)),e.handleOutsideClick=e.handleOutsideClick.bind(Object(u.a)(e)),e.onClick=e.onClick.bind(Object(u.a)(e)),e}return Object(m.a)(a,[{key:"componentDidMount",value:function(){document.addEventListener("mousedown",this.handleOutsideClick)}},{key:"componentWillUnmount",value:function(){document.removeEventListener("mousedown",this.handleClickOutside)}},{key:"setWrapperRef",value:function(e){this.wrapperRef=e}},{key:"handleOutsideClick",value:function(e){var t=this.props,a=t.showModal,n=t.handleClose;a&&this.wrapperRef&&!this.wrapperRef.contains(e.target)&&n()}},{key:"onClick",value:function(e){e.preventDefault();var t=this.props.currTeam;"sk"===e.target.id?"Secret Key"===this.state.secretNumText?this.setState({secretNumText:t.secretNum}):this.setState({secretNumText:"Secret Key"}):"et"===e.target.id?this.props.history.push({pathname:"/editteam",state:{currTeam:t}}):"tags"===e.target.id&&this.props.history.push({pathname:"/tags",state:{currTeam:t}})}},{key:"render",value:function(){var e=this,t=this.props,a=t.showModal,n=t.children,s=a?"member-modal-container":"display-none";return document.body.style.overflow=a?"hidden":"unset",o.a.createElement("div",{className:s,ref:this.setWrapperRef},o.a.createElement(D.a,{className:"team-set-modal-main"},o.a.createElement("p",{className:"member-title"},"Team Settings"),n&&n.length>0?n.map((function(t){return o.a.createElement("p",{id:t.id,key:t.id,className:"member-name child-name",onClick:e.onClick},"sk"===t.id?e.state.secretNumText:t.text)})):null))}}]),a}(o.a.Component)),Re=Object(i.f)(We),Ue=(a(209),function(e){Object(h.a)(a,e);var t=Object(d.a)(a);function a(){var e;return Object(l.a)(this,a),(e=t.call(this)).showMembersModal=function(){e.setState({showMembersModal:!0})},e.showTeamSettingsModal=function(){e.setState({showTeamSettingsModal:!0})},e.hideMembersModal=function(){e.setState({showMembersModal:!1})},e.hideTeamSettingsModal=function(){e.setState({showTeamSettingsModal:!1})},e.state={showMembersModal:!1,showTeamSettingsModal:!1,teamSettings:[{id:"sk",text:"Secret Key"},{id:"et",text:"Edit Team"},{id:"tags",text:"View Tags"}]},e.showMembersModal=e.showMembersModal.bind(Object(u.a)(e)),e.hideMembersModal=e.hideMembersModal.bind(Object(u.a)(e)),e.hideTeamSettingsModal=e.hideTeamSettingsModal.bind(Object(u.a)(e)),e.showTeamSettingsModal=e.showTeamSettingsModal.bind(Object(u.a)(e)),e.isUserInTeam=e.isUserInTeam.bind(Object(u.a)(e)),e}return Object(m.a)(a,[{key:"isUserInTeam",value:function(e){for(var t=this.props.auth.user,a=e.teamMembers,n=!1,o=0;o<a.length;o++)if(a[o].user._id===t.id){n=!0;break}return n}},{key:"findIfAdmin",value:function(e,t){for(var a=e.teamMembers,n=0;n<a.length;n++)if(a[n].user._id===t.id)return a[n].isAdmin}},{key:"render",value:function(){var e=this,t=this.props.currTeam,a=this.props.currUser,n=!!t.teamMembers&&this.findIfAdmin(t,a),s=this.props.team.teamsList,r=s&&s.length>0?s.map((function(t){return e.isUserInTeam(t)?o.a.createElement(Ie.a.Item,{key:t._id},o.a.createElement(c.b,{to:{pathname:"/team/".concat(t._id),state:{teamId:t._id}}},t.teamName)):null})):null;return o.a.createElement("div",{className:"team-header-container"},o.a.createElement(c.b,{to:"/",className:"home-btn"},"Home"),o.a.createElement(M.a,{container:!0,spacing:2},o.a.createElement(M.a,{item:!0,xs:10},o.a.createElement(Ie.a,{className:"dropdown"},o.a.createElement(Ie.a.Toggle,{variant:"primary",id:"team-selector",className:"team-name-title"},this.props.team.teamsList.length>0?this.props.team.currTeam.teamName:"Select Team"),o.a.createElement(Ie.a.Menu,null,r)),o.a.createElement("h4",{className:"team-desc"},t.teamDescription)),o.a.createElement(M.a,{item:!0,xs:2},o.a.createElement("div",{className:"members-chat"},o.a.createElement("div",{className:"members-container"},o.a.createElement(Ae.a,{className:"members-icon scale-hover color-blue",onClick:this.showMembersModal,fontSize:"large"}),o.a.createElement(Le,{showModal:this.state.showMembersModal,handleClose:this.hideMembersModal,members:t.teamMembers})),o.a.createElement(c.b,{to:{pathname:"/chat",state:{currTeam:t}}},o.a.createElement(xe.a,{className:"chat-icon scale-hover color-blue",fontSize:"large"})),n?o.a.createElement("div",{className:"team-options-container"},o.a.createElement(w.a,{className:"options-icon scale-hover color-blue",fontSize:"large",onClick:this.showTeamSettingsModal}),o.a.createElement(Re,{showModal:this.state.showTeamSettingsModal,handleClose:this.hideTeamSettingsModal,currTeam:t,children:this.state.teamSettings})):null))))}}]),a}(o.a.Component)),Be=Object(T.b)((function(e){return{auth:e.auth,team:e.team}}),null)(Ue),Pe=(a(111),function(e){Object(h.a)(a,e);var t=Object(d.a)(a);function a(){var e;Object(l.a)(this,a);for(var n=arguments.length,o=new Array(n),s=0;s<n;s++)o[s]=arguments[s];return(e=t.call.apply(t,[this].concat(o))).findNotesWithTag=function(e,t){for(var a=[],n=0;n<e.length;n++)if(e[n]&&e[n].tags)for(var o=0;o<e[n].tags.length;o++)if(e[n].tags[o].title.includes(t)){a.push(e[n]);break}return a},e.findTodosWithTag=function(e,t){for(var a=[],n=0;n<e.length;n++)if(e[n]&&e[n].tags)for(var o=0;o<e[n].tags.length;o++)if(e[n].tags[o].title.includes(t)){a.push(e[n]);break}return a},e}return Object(m.a)(a,[{key:"render",value:function(){var e=this,t=this.props,a=t.currTeam,n=t.search,s=this.findNotesWithTag(a.teamNotes,n),r=this.findTodosWithTag(a.teamTodos,n),i=s&&s.length>0?s.map((function(t){var n=new Date(t.updatedAt);return o.a.createElement(c.b,{to:{pathname:"/noteslist/".concat(a._id),state:{currNote:t}},className:"show-note",key:t._id},o.a.createElement(D.a,{className:"home-note-content with-tag"},o.a.createElement(M.a,{container:!0,spacing:1},o.a.createElement(M.a,{item:!0,xs:10},o.a.createElement("p",{className:"note-details"},"Last updated: ",n.toLocaleString())),o.a.createElement(M.a,{item:!0,xs:2},o.a.createElement(U.a,{className:"pinned-btn"}))),o.a.createElement("h6",{className:"home-note-title"},t.noteTitle),o.a.createElement("p",null,t.noteBody.slice(0,110)),o.a.createElement("p",{className:"note-details note-author"},"By, ",t.author),t.tags&&t.tags.length>0?t.tags.map((function(t){return o.a.createElement("div",{id:t._id,key:t._id,className:"sm-tag-container",style:{backgroundColor:t.color},onClick:e.deleteTag},o.a.createElement("p",{id:t._id},t.title))})):null))})):o.a.createElement("p",null,"No notes with this tag."),l=r&&r.length>0?r.map((function(t){return o.a.createElement("div",{className:"with-tag",key:t._id},o.a.createElement(D.a,{className:"todo-container",key:t._id},o.a.createElement(ke.a,null,o.a.createElement(ke.a.Check,{custom:!0,className:"todo-check-form",type:"checkbox",id:t._id,label:t.todoText,checked:t.isCompleted,onChange:e.onToggle})),o.a.createElement("p",null,"Assigned:",t.assignee&&t.assignee.length>0?" "+t.assignee:"None"),t.tags&&t.tags.length>0?t.tags.map((function(t){return o.a.createElement("div",{id:t._id,key:t._id,className:"sm-tag-container todo-tag",style:{backgroundColor:t.color},onClick:e.deleteTag},o.a.createElement("p",{id:t._id},t.title))})):null))})):o.a.createElement("p",null,"No todos with this tag.");return o.a.createElement("div",{className:"search-result-container"},o.a.createElement("div",{className:"with-tag"},i),o.a.createElement("div",{className:"with-tag"},l))}}]),a}(o.a.Component)),ze=function(e){Object(h.a)(a,e);var t=Object(d.a)(a);function a(e){var n;return Object(l.a)(this,a),(n=t.call(this,e)).onChange=function(e){n.setState({search:e.target.value})},n.state={search:""},n}return Object(m.a)(a,[{key:"componentDidMount",value:function(){var e=this.props.match.params.id;this.props.getTeamWithId(e),this.props.getAllTeams()}},{key:"componentDidUpdate",value:function(e){var t=this.props.location.state?this.props.location.state.teamId:"",a=e.team.currTeam._id?e.team.currTeam._id:"";""!==t&&""!==a&&t!==a&&window.location.reload(),this.props.note.lastAddedNote!==e.note.lastAddedNote&&window.location.reload(),this.props.team.lastAddedTodo!==e.team.lastAddedTodo&&window.location.reload(),this.props.event.lastAddedEvent!==e.event.lastAddedEvent&&window.location.reload()}},{key:"render",value:function(){var e=this.props.team.currTeam,t=this.props.auth.user,a=o.a.createElement("div",null,o.a.createElement("input",{className:"search",onChange:this.onChange,value:this.state.search,placeholder:"Search for something..."}));return o.a.createElement("div",{className:"team-container"},o.a.createElement("div",{className:"teamNames",key:e._id},o.a.createElement(Be,{currTeam:e,currUser:t}),a,this.state.search&&this.state.search.trim().length>0?o.a.createElement(Pe,{search:this.state.search,currTeam:e}):o.a.createElement(o.a.Fragment,null,o.a.createElement("div",{className:"team-notes-list h-team-list"},o.a.createElement(c.b,{className:"list-title",to:"/team/".concat(e._id,"/notes")},"Notes"),o.a.createElement("div",{className:"h-notes-list-container"},o.a.createElement(Ce,{currTeam:e}))),o.a.createElement(M.a,{container:!0,spacing:2},o.a.createElement(M.a,{item:!0,sm:12,md:5,className:"grid-todos"},o.a.createElement("div",{className:"team-todos-list h-team-list"},o.a.createElement(M.a,{container:!0,spacing:2},o.a.createElement(M.a,{item:!0,xs:9},o.a.createElement("h2",{className:"list-title h-todo-list"},"Todos")),o.a.createElement(M.a,{item:!0,xs:1},o.a.createElement(c.b,{to:{pathname:"/addtodo",state:{teamData:e}}},o.a.createElement(Te.a,{fontSize:"large",className:"add-icon todo-add"})))),o.a.createElement("div",{className:"h-todos-container"},o.a.createElement(De,{currTeam:e,history:this.props.history})))),o.a.createElement(M.a,{item:!0,sm:12,md:7},o.a.createElement("div",{className:"team-events-list"},o.a.createElement("div",null,o.a.createElement(M.a,{container:!0,spacing:2},o.a.createElement(M.a,{item:!0,xs:9},o.a.createElement("h4",null,o.a.createElement(c.b,{className:"list-title h-event-list",to:"/eventslist/".concat(e._id)},"Events"))),o.a.createElement(M.a,{item:!0,xs:1},o.a.createElement(c.b,{to:{pathname:"/addevent",state:{teamData:e}}},o.a.createElement(Te.a,{fontSize:"large",className:"add-icon event-add"}))))),o.a.createElement(we,{currTeam:e})))))))}}]),a}(o.a.Component),He=Object(T.b)((function(e){return{auth:e.auth,team:e.team,note:e.note,event:e.event}}),{getTeamWithId:C,getAllTeams:function(){return function(e){g.a.get("/teams/").then((function(t){var a=t.data;e({type:"GET_ALL_TEAMS",payload:a})})).catch((function(e){return console.log(e)}))}},completeTeamTodo:k,deleteTeamTodo:O})(ze),Ye=(a(211),function(e){Object(h.a)(a,e);var t=Object(d.a)(a);function a(){var e;return Object(l.a)(this,a),(e=t.call(this)).deleteTag=function(t){var a=t.target.id;e.setState((function(e){for(var t=e.tags,n=0;n<t.length;n++)t[n]._id===a&&(console.log(t[n]),t.splice(n,1));return{tags:t}}))},e.addTag=function(t){t.preventDefault();var a=document.getElementById("select-tag").value,n=e.state.tags;if(n.length>=3)alert("You can only add up to 3 tags");else{for(var o=0;o<n.length;o++)if(n[o].title===a)return void alert("You already added this tag");for(var s=e.props.location.state.teamData.teamTags,r={},c=0;c<s.length;c++)if(s[c].title===a){r=s[c];break}e.setState((function(e){return{tags:e.tags.concat(r)}}))}},e.state={todoText:"",assignee:"",tags:[]},e.onChange=e.onChange.bind(Object(u.a)(e)),e.onSubmitTodo=e.onSubmitTodo.bind(Object(u.a)(e)),e}return Object(m.a)(a,[{key:"componentDidMount",value:function(){this.props.location.state&&this.setState({todoText:this.props.location.state.todoText})}},{key:"onChange",value:function(e){this.setState({todoText:e.target.value})}},{key:"onSubmitTodo",value:function(e){e.preventDefault();var t=this.props.location.state.teamData,a=this.props.auth.user,n={todoText:this.state.todoText,isCompleted:!1,assignee:this.state.assignee,tags:this.state.tags,author:a.firstName+" "+a.lastName};this.props.addTodoToTeam(t,n),this.props.history.goBack()}},{key:"render",value:function(){var e=this,t=this.props.location.state.teamData,a=t.teamMembers,n=this.state.tags;console.log(t);var s=a&&a.length>0?a.map((function(t){return o.a.createElement(Ie.a.Item,{key:t._id,onClick:function(){return e.setState({assignee:"".concat(t.user.firstName," ").concat(t.user.lastName)})}},t.user.firstName+" "+t.user.lastName)})):null;return o.a.createElement("div",{className:"edit-todo-container"},o.a.createElement("h1",{className:"edit-todo-title"},"What do you want to accomplish?"),o.a.createElement("form",{className:"edit-todo-form"},o.a.createElement("input",{className:"todo-input",name:"todoText",type:"text",onChange:this.onChange,value:this.state.todoText}),o.a.createElement(Ie.a,{className:"assign-dropdown"},o.a.createElement(Ie.a.Toggle,{id:"team-selector"},this.state.assignee.length>0?this.state.assignee:"None"),o.a.createElement(Ie.a.Menu,null,o.a.createElement(Ie.a.Item,{onClick:function(){return e.setState({assignee:""})}},"None"),s)),o.a.createElement(P,{tags:n,addTag:this.addTag,deleteTag:this.deleteTag,currTeam:t})),o.a.createElement("button",{className:"submit-btn btn",onClick:this.onSubmitTodo},"Submit"))}}]),a}(o.a.Component)),Fe=Object(T.b)((function(e){return{auth:e.auth,team:e.team}}),{addTodoToTeam:function(e,t){return function(a){g.a.post("/teams/addtodo",{teamData:e,todoData:t}).then((function(e){console.log(e),a({type:"ADD_TODO_TO_TEAM",payload:e.data})})).catch((function(e){return console.log(e)}))}}})(Ye),Ge=a(25),Je=a(280),Ve=a(78),Ke=(a(112),function(e){Object(h.a)(a,e);var t=Object(d.a)(a);function a(){var e;return Object(l.a)(this,a),(e=t.call(this)).state={title:"",description:"",location:"",startTime:new Date,endTime:new Date},e.handleEndDateChange=e.handleEndDateChange.bind(Object(u.a)(e)),e.handleStartDateChange=e.handleStartDateChange.bind(Object(u.a)(e)),e.onChange=e.onChange.bind(Object(u.a)(e)),e.onSubmit=e.onSubmit.bind(Object(u.a)(e)),e}return Object(m.a)(a,[{key:"handleStartDateChange",value:function(e){var t=new Date(e);t.setHours(t.getHours()+1),this.setState({endTime:new Date(t)}),this.setState({startTime:new Date(+e)})}},{key:"handleEndDateChange",value:function(e){this.setState({endTime:new Date(+e)})}},{key:"onChange",value:function(e){var t=e.target.id;this.setState(Object(B.a)({},t,e.target.value))}},{key:"onSubmit",value:function(e){e.preventDefault();var t=this.props.auth.user,a=this.props.location.state.teamData;if(this.state.startTime>this.state.endTime)alert("Your start time must be earlier than your end time");else{var n={eventTitle:this.state.title,eventDescription:this.state.description,eventLocation:this.state.location,eventStartTime:this.state.startTime,eventEndTime:this.state.endTime,author:t.firstName+" "+t.lastName};this.props.addEventToTeam(a,n),this.props.history.push("/team/".concat(a._id))}}},{key:"render",value:function(){return o.a.createElement("div",{className:"add-event-container"},o.a.createElement("h1",{className:"add-event-header"},"What's the event?"),o.a.createElement("form",{className:"add-event-form"},o.a.createElement("label",{className:"input-label"},"What's the name of your event?"),o.a.createElement("input",{className:"event-input",id:"title",type:"text",value:this.state.title,onChange:this.onChange}),o.a.createElement("label",{className:"input-label"},"Describe your event."),o.a.createElement("textarea",{className:"event-input",id:"description",type:"text",value:this.state.description,rows:"5",onChange:this.onChange}),o.a.createElement("label",{className:"input-label"},"Where will your event be?"),o.a.createElement("input",{className:"event-input",id:"location",type:"text",value:this.state.location,onChange:this.onChange}),o.a.createElement("div",{className:"date-selectors"},o.a.createElement(Ge.a,{className:"date-picker",utils:Ve.a},o.a.createElement("div",{className:"date-chooser"},o.a.createElement(Je.a,{className:"date-chooser",id:"startTime",label:"Choose a start time",value:this.state.startTime,onChange:this.handleStartDateChange})),o.a.createElement("div",{className:"date-chooser"},o.a.createElement(Je.a,{className:"date-chooser",id:"endTime",label:"Choose an end time",value:this.state.endTime,onChange:this.handleEndDateChange})))),o.a.createElement("button",{onClick:this.onSubmit,className:"submit-btn btn"},"Submit")))}}]),a}(o.a.Component)),qe=Object(T.b)((function(e){return{auth:e.auth,event:e.event}}),{addEventToTeam:function(e,t){return function(a){g.a.post("/events/add",{teamData:e,eventData:t}).then((function(t){console.log(t);var n=t.data._id;g.a.post("/teams/addevent",{teamData:e,eventId:n}).then((function(e){console.log(e),a({type:"ADD_EVENT_TO_TEAM",payload:t.data})}))})).catch((function(e){return console.log(e)}))}}})(Ke),Xe=a(140),$e=Object(T.b)((function(e){return{auth:e.auth}}))((function(e){e.component,e.auth,Object(Xe.a)(e,["component","auth"])})),Qe=(a(212),function(e){Object(h.a)(a,e);var t=Object(d.a)(a);function a(){var e;return Object(l.a)(this,a),(e=t.call(this)).sortEvents=e.sortEvents.bind(Object(u.a)(e)),e.sortFutureEvents=e.sortFutureEvents.bind(Object(u.a)(e)),e.onContextItemClick=e.onContextItemClick.bind(Object(u.a)(e)),e}return Object(m.a)(a,[{key:"componentDidMount",value:function(){var e=this.props.match.params.id;this.props.getTeamWithId(e)}},{key:"componentDidUpdate",value:function(e){this.props.event.lastAddedEvent!=e.event.lastAddedEvent&&window.location.reload()}},{key:"sortEvents",value:function(e){return e.sort((function(e,t){return(e=new Date(e.eventStartTime))>(t=new Date(t.eventStartTime))?-1:e<t?1:0})),e}},{key:"sortFutureEvents",value:function(e){return e.sort((function(e,t){return(e=new Date(e.eventStartTime))<(t=new Date(t.eventStartTime))?-1:e>t?1:0})),e}},{key:"onContextItemClick",value:function(e,t){e.preventDefault();var a=t.eventData,n=this.props.team.currTeam;this.props.deleteEvent(a,n),window.location.reload()}},{key:"render",value:function(){var e=this,t=this.props.team.currTeam,a=t.teamEvents,n=a?this.sortEvents(a):a,s=a?this.sortFutureEvents(a):a,r=0,i=0,l=n&&n.length>0?n.map((function(t){var a=new Date(t.eventStartTime),n=new Date(t.eventEndTime);if(new Date>a)return r++,o.a.createElement("div",{key:t._id},o.a.createElement(F.b,{id:t._id},o.a.createElement(c.b,{className:"link-to-edit",to:{pathname:"/editevent",state:{event:t}}},o.a.createElement(D.a,{className:"event-card"},o.a.createElement("h4",{className:"event-title color-blue"},t.eventTitle),o.a.createElement("p",null,t.eventDescription.slice(0,100)),o.a.createElement("div",{className:"event-details"},o.a.createElement(M.a,{container:!0,spacing:2},o.a.createElement(M.a,{item:!0,xs:2},o.a.createElement(Se.a,{className:"location-icon color-blue"})),o.a.createElement(M.a,{item:!0,xs:10},o.a.createElement("p",null,t.eventLocation))),o.a.createElement("p",null,"Start: ",a.toLocaleString()),o.a.createElement("p",null,"End: ",n.toLocaleString()))))),o.a.createElement(F.a,{id:t._id,className:"context-menu-container"},o.a.createElement(F.c,{className:"context-menu-item",data:{eventData:t},onClick:e.onContextItemClick},"Delete")))})):null;0===r&&(l=o.a.createElement("p",{className:"no-event-text"},"No past events to show!"));var m=s&&s.length>0?s.map((function(t){var a=new Date(t.eventStartTime),n=new Date(t.eventEndTime);if(new Date<=a)return i++,o.a.createElement("div",{key:t._id},o.a.createElement(F.b,{id:t._id},o.a.createElement(c.b,{className:"link-to-edit",to:{pathname:"/editevent",state:{event:t}}},o.a.createElement(D.a,{className:"event-card"},o.a.createElement("h4",{className:"event-title color-blue"},t.eventTitle),o.a.createElement("p",null,t.eventDescription.slice(0,100)),o.a.createElement("div",{className:"event-details"},o.a.createElement(M.a,{container:!0,spacing:2},o.a.createElement(M.a,{item:!0,xs:2},o.a.createElement(Se.a,{className:"location-icon color-blue"})),o.a.createElement(M.a,{item:!0,xs:10},o.a.createElement("p",null,t.eventLocation))),o.a.createElement("p",null,"Start: ",a.toLocaleString()),o.a.createElement("p",null,"End: ",n.toLocaleString()))))),o.a.createElement(F.a,{id:t._id,className:"context-menu-container"},o.a.createElement(F.c,{className:"context-menu-item",data:{eventData:t},onClick:e.onContextItemClick},"Delete")))})):o.a.createElement("p",null,"No upcoming events!");return 0===i&&(m=o.a.createElement("p",{className:"no-event-text"},"No upcoming events!")),o.a.createElement("div",{className:"event-list-container"},o.a.createElement(M.a,{container:!0,spacing:1},o.a.createElement(M.a,{item:!0,xs:1},o.a.createElement(I.a,{fontSize:"large",className:"back-btn",onClick:function(){return e.props.history.goBack()}})),o.a.createElement(M.a,{item:!0,xs:10},o.a.createElement("h1",{className:"event-list-header"},"Events for ",t.teamName))),o.a.createElement("h1",{className:"event-list-title"},"Upcoming Events"),o.a.createElement("div",{className:"all-events-container"},m),o.a.createElement("h1",{className:"event-list-title"},"Past Events"),o.a.createElement("div",{className:"all-events-container"},l))}}]),a}(o.a.Component)),Ze=Object(T.b)((function(e){return{team:e.team,event:e.event}}),{getTeamWithId:C,deleteEvent:function(e,t){return function(a){g.a.post("/teams/deleteevent",{eventData:e,teamData:t}).then((function(t){console.log(t),g.a.post("/events/delete",{eventData:e}).then((function(e){console.log(e),a({type:"DELETE_EVENT",payload:null})})).catch((function(e){return console.log(e)}))})).catch((function(e){return console.log(e)}))}}})(Qe),et=function(e){Object(h.a)(a,e);var t=Object(d.a)(a);function a(){var e;return Object(l.a)(this,a),(e=t.call(this)).state={title:"",description:"",location:"",startTime:new Date,endTime:new Date},e.handleEndDateChange=e.handleEndDateChange.bind(Object(u.a)(e)),e.handleStartDateChange=e.handleStartDateChange.bind(Object(u.a)(e)),e.onChange=e.onChange.bind(Object(u.a)(e)),e.onSubmit=e.onSubmit.bind(Object(u.a)(e)),e}return Object(m.a)(a,[{key:"componentDidMount",value:function(){var e=this.props.location.state.event;console.log(e),e&&this.setState({title:e.eventTitle,description:e.eventDescription,location:e.eventLocation,startTime:new Date(e.eventStartTime),endTime:new Date(e.eventEndTime)})}},{key:"handleStartDateChange",value:function(e){var t=new Date(e);t.setHours(t.getHours()+1),this.setState({endTime:new Date(t)}),this.setState({startTime:new Date(+e)})}},{key:"handleEndDateChange",value:function(e){this.setState({endTime:new Date(+e)})}},{key:"onChange",value:function(e){var t=e.target.id;this.setState(Object(B.a)({},t,e.target.value))}},{key:"onSubmit",value:function(e){e.preventDefault();var t=this.props.auth.user;this.props.location.state.teamData;if(this.state.startTime>this.state.endTime)alert("Your start time must be earlier than your end time");else{var a={eventId:this.props.location.state.event._id,eventTitle:this.state.title,eventDescription:this.state.description,eventLocation:this.state.location,eventStartTime:this.state.startTime,eventEndTime:this.state.endTime,author:t.firstName+" "+t.lastName};this.props.updateEvent(a),this.props.history.goBack()}}},{key:"render",value:function(){return o.a.createElement("div",{className:"add-event-container"},o.a.createElement("h1",{className:"add-event-header"},"What would you like to change?"),o.a.createElement("form",{className:"add-event-form"},o.a.createElement("label",{className:"input-label"},"What's the name of your event?"),o.a.createElement("input",{className:"event-input",id:"title",type:"text",value:this.state.title,onChange:this.onChange}),o.a.createElement("label",{className:"input-label"},"Describe your event."),o.a.createElement("textarea",{className:"event-input",id:"description",type:"text",value:this.state.description,rows:"5",onChange:this.onChange}),o.a.createElement("label",{className:"input-label"},"Where will your event be?"),o.a.createElement("input",{className:"event-input",id:"location",type:"text",value:this.state.location,onChange:this.onChange}),o.a.createElement("div",{className:"date-selectors"},o.a.createElement(Ge.a,{className:"date-picker",utils:Ve.a},o.a.createElement("div",{className:"date-chooser"},o.a.createElement(Je.a,{className:"date-chooser",id:"startTime",label:"Choose a start time",value:this.state.startTime,onChange:this.handleStartDateChange})),o.a.createElement("div",{className:"date-chooser"},o.a.createElement(Je.a,{className:"date-chooser",id:"endTime",label:"Choose an end time",value:this.state.endTime,onChange:this.handleEndDateChange})))),o.a.createElement("button",{onClick:this.onSubmit,className:"submit-btn btn"},"Submit")))}}]),a}(o.a.Component),tt=Object(T.b)((function(e){return{auth:e.auth,event:e.event}}),{updateEvent:function(e){return function(t){g.a.post("/events/update",{eventData:e}).then((function(a){console.log(a),t({type:"UPDATE_EVENT",payload:e})})).catch((function(e){return console.log("error!! "+e)}))}}})(et),at=(a(213),function(e){Object(h.a)(a,e);var t=Object(d.a)(a);function a(){var e;return Object(l.a)(this,a),(e=t.call(this)).deleteTag=function(t){var a=t.target.id;e.setState((function(e){for(var t=e.tags,n=0;n<t.length;n++)t[n]._id===a&&(console.log(t[n]),t.splice(n,1));return{tags:t}}))},e.addTag=function(t){t.preventDefault();var a=document.getElementById("select-tag").value,n=e.state.tags;if(n.length>=3)alert("You can only add up to 3 tags");else{for(var o=0;o<n.length;o++)if(n[o].title===a)return void alert("You already added this tag");for(var s=e.props.location.state.teamData.teamTags,r={},c=0;c<s.length;c++)if(s[c].title===a){r=s[c];break}e.setState((function(e){return{tags:e.tags.concat(r)}}))}},e.state={todoText:"",assignee:"",tags:[]},e.onChange=e.onChange.bind(Object(u.a)(e)),e.onSubmitTodo=e.onSubmitTodo.bind(Object(u.a)(e)),e}return Object(m.a)(a,[{key:"onChange",value:function(e){this.setState({todoText:e.target.value})}},{key:"componentDidMount",value:function(){var e=this.props.location.state.currTodo;this.setState({todoText:e.todoText,assignee:e.assignee,tags:e.tags})}},{key:"onSubmitTodo",value:function(e){e.preventDefault();var t=this.props.location.state.teamData,a=this.props.auth.user,n=this.props.location.state.currTodo,o={todoText:this.state.todoText,assignee:this.state.assignee,id:n._id,tags:this.state.tags,author:a.firstName+" "+a.lastName};console.log(o),this.props.updateTeamTodo(t,o),this.props.history.goBack()}},{key:"render",value:function(){var e=this,t=this.props.location.state.teamData,a=this.state.tags,n=t.teamMembers,s=n&&n.length>0?n.map((function(t){return o.a.createElement(Ie.a.Item,{key:t._id,onClick:function(){return e.setState({assignee:"".concat(t.user.firstName," ").concat(t.user.lastName)})}},t.user.firstName+" "+t.user.lastName)})):null;return o.a.createElement("div",{className:"edit-todo-container"},o.a.createElement("h1",{className:"edit-todo-title"},"What do you want to change?"),o.a.createElement("form",{className:"edit-todo-form"},o.a.createElement("input",{className:"todo-input",name:"todoText",type:"text",onChange:this.onChange,value:this.state.todoText}),o.a.createElement(Ie.a,{className:"assign-dropdown"},o.a.createElement(Ie.a.Toggle,{id:"team-selector"},this.state.assignee.length>0?this.state.assignee:"None"),o.a.createElement(Ie.a.Menu,null,o.a.createElement(Ie.a.Item,{onClick:function(){return e.setState({assignee:""})}},"None"),s)),o.a.createElement(P,{tags:a,addTag:this.addTag,deleteTag:this.deleteTag,currTeam:t})),o.a.createElement("button",{className:"submit-btn btn",onClick:this.onSubmitTodo},"Submit"))}}]),a}(o.a.Component)),nt=Object(T.b)((function(e){return{auth:e.auth,team:e.team}}),{updateTeamTodo:function(e,t){return function(a){console.log(t),g.a.post("/teams/updatetodo",{teamData:e,todoData:t}).then((function(e){console.log(e),a({type:"EDIT_TODO",payload:e.data})})).catch((function(e){return console.log(e)}))}}})(at),ot=(a(214),function(e,t){if(console.log(t),"note"===t.type){var a={noteTitle:"",noteBody:t.msgData.text};t.history.push({pathname:"/noteslist/".concat(t.teamData._id),state:{currNote:a,teamData:t.teamData,fromChat:!0}})}else"todo"===t.type&&t.history.push({pathname:"/addtodo",state:{todoText:t.msgData.text,teamData:t.teamData}})}),st=Object(i.f)((function(e){var t=!1,a=e.userName.trim().toLowerCase();e.msg.user===a&&(t=!0);var n=t?o.a.createElement("div",{className:"msgContainer justifyEnd"},o.a.createElement("div",{className:"msgBox currUser"},o.a.createElement("p",{className:"msgText"},e.msg.text))):o.a.createElement("div",{className:"msgContainer justifyStart notMe"},o.a.createElement("p",null,e.msg.user),o.a.createElement("div",{className:"msgBox notCurrUser"},o.a.createElement("p",{className:"msgText"},e.msg.text)));return o.a.createElement("div",{key:e.msg._id},o.a.createElement(F.b,{id:e.msg._id},n),o.a.createElement(F.a,{id:e.msg._id,className:"context-menu-container"},o.a.createElement(F.c,{className:"context-menu-item",id:"note",data:{msgData:e.msg,teamData:e.team,history:e.history,type:"note"},onClick:ot},"Turn to note"),o.a.createElement(F.c,{className:"context-menu-item",id:"todo",data:{msgData:e.msg,teamData:e.team,history:e.history,type:"todo"},onClick:ot},"Turn to todo")))})),rt=a(76),ct=a.n(rt),it=function(e){Object(h.a)(a,e);var t=Object(d.a)(a);function a(){var e;return Object(l.a)(this,a),(e=t.call(this)).onScroll=function(){0===Object(u.a)(e).refs.containerRef.scrollTop&&(console.log("load more messages"),e.socket.emit("loadMoreMsgs",e.state.currTeam,(function(t){t&&e.setState((function(e,a){return{msgs:t.concat(e.msgs)}}))})))},e.state={msgs:[],currTeam:{}},e.onScroll=e.onScroll.bind(Object(u.a)(e)),e.ENDPOINT="localhost:5000",e.socket=ct()("localhost:5000"),e}return Object(m.a)(a,[{key:"getSnapshotBeforeUpdate",value:function(){var e=r.a.findDOMNode(this);return this.shouldScrollToBottom=e.scrollTop+e.clientHeight>=e.scrollHeight,null}},{key:"componentDidUpdate",value:function(){if(this.shouldScrollToBottom){var e=r.a.findDOMNode(this);e.scrollTop=e.scrollHeight}}},{key:"render",value:function(){var e=this.props,t=e.userName,a=e.team;return o.a.createElement("div",{ref:"containerRef",id:"msgsContainer",onScroll:this.onScroll,style:{height:"70vh",overflow:"auto"}},this.state.msgs?this.state.msgs.map((function(e,n){return o.a.createElement("div",{key:n},o.a.createElement(st,{msg:e,userName:t,team:a}))})):null)}}],[{key:"getDerivedStateFromProps",value:function(e,t){return e.msgs!==t.msgs?{msgs:e.msgs,currTeam:e.team}:null}}]),a}(o.a.Component),lt=a(139),mt=a(55),ut=(a(246),Object(T.b)((function(e){return{auth:e.auth,team:e.team}}),{addChatMsg:function(e,t){return function(a){g.a.post("/teams/chat/add",{teamData:e,chatData:t}).then((function(e){a({type:"ADD_CHAT_MSG",payload:e.data})})).catch((function(e){return console.log(e)}))}},getChatHistory:function(e){return function(t){g.a.get("http://localhost:5000/teams/chat/".concat(e._id)).then((function(e){t({type:"GET_CHAT_HISTORY",payload:e.data})}))}}})((function(e){var t=Object(n.useState)(""),a=Object(mt.a)(t,2),s=a[0],r=a[1],c=Object(n.useState)(""),i=Object(mt.a)(c,2),l=i[0],m=i[1],u=Object(n.useState)({}),d=Object(mt.a)(u,2),h=d[0],p=d[1],g=Object(n.useState)([]),v=Object(mt.a)(g,2),E=v[0],f=v[1],b=Object(n.useState)(""),N=Object(mt.a)(b,2),T=N[0],y=N[1],C=Object(n.useRef)(null);Object(n.useEffect)((function(){var t=e.location.state.currTeam,a=e.auth.user;return ne=ct()("localhost:5000"),r(a.firstName+" "+a.lastName),m(a.id),p(t),ne.emit("join",{user:a,currTeam:t},(function(){return console.log("yeet")})),ne.on("old msgs",(function(e){f(e)})),function(){ne.emit("disconnect"),ne.off()}}),[e.location.state,"localhost:5000"]),Object(n.useEffect)((function(){ne.on("message",(function(e){f([].concat(Object(lt.a)(E),[e]))}))}),[E]);return o.a.createElement("div",{ref:C,className:"tot-chat-container"},o.a.createElement(M.a,{container:!0,spacing:2},o.a.createElement(M.a,{item:!0,xs:1},o.a.createElement(I.a,{fontSize:"large",className:"back-btn",onClick:function(){return e.history.goBack()}})),o.a.createElement(M.a,{item:!0,xs:11},o.a.createElement("h1",{className:"chat-title"},h.teamName," Chat"))),o.a.createElement(M.a,{container:!0,spacing:2},o.a.createElement(M.a,{item:!0,xs:12,sm:9},o.a.createElement(it,{msgs:E,userName:s,team:h}),o.a.createElement("input",{className:"send-msg",value:T,onChange:function(e){return y(e.target.value)},onKeyPress:function(e){return"Enter"===e.key?void(T&&ne.emit("sendMessage",T,(function(){return y("")}))):null},placeholder:"Start typing here"})),o.a.createElement(M.a,{item:!0,xs:12,sm:3},o.a.createElement("h3",{className:"chat-member-list color-blue"},"Team Members"),h.teamMembers?h.teamMembers.map((function(e){e.user.firstName,e.user.lastName;return l===e.user._id?e.isAdmin?o.a.createElement("div",{className:"admin-container"},o.a.createElement(ge.a,{className:"admin-icon",fontSize:"small"}),o.a.createElement("p",{key:e._id,className:"bold"},e.user.firstName," ",e.user.lastName," (You)")):o.a.createElement("p",{key:e._id,className:"bold"},e.user.firstName," ",e.user.lastName," (You)"):e.isAdmin?o.a.createElement("div",{className:"admin-container"},o.a.createElement(ge.a,{className:"admin-icon",fontSize:"small"}),o.a.createElement("p",{key:e._id},e.user.firstName," ",e.user.lastName)):o.a.createElement("p",{key:e._id},e.user.firstName," ",e.user.lastName)})):null)))}))),dt=(a(247),function(e){Object(h.a)(a,e);var t=Object(d.a)(a);function a(){var e;return Object(l.a)(this,a),(e=t.call(this)).addTagClick=function(t){t.preventDefault();var a={title:e.state.tag,description:e.state.tagDesc,color:e.state.tagColors[Math.floor(Math.random()*e.state.tagColors.length)]};e.setState((function(e){return{tags:e.tags.concat({title:e.tag,description:e.tagDesc}),tag:"",tagDesc:""}}));var n=e.props.location.state.currTeam._id;console.log(a),e.props.addTag(n,a)},e.onChange=function(t){e.setState(Object(B.a)({},t.target.id,t.target.value))},e.state={tags:[],tag:"",tagDesc:"",tagColors:["#eea990","#f6e0b5","#aa6f73","#0D97AC","#588C73","#F2AE72","#8C4646","#53BBF4","#92B06A","#E19D29"]},e}return Object(m.a)(a,[{key:"componentDidMount",value:function(){var e=this.props.location.state.currTeam._id;console.log(e),this.props.getTeamWithId(e)}},{key:"componentDidUpdate",value:function(e){console.log(this.props.tags,e.tags),this.props.tags.tags!=e.tags.tags&&window.location.reload()}},{key:"render",value:function(){var e=this,t=this.props.team.currTeam,a=t.teamTags;return o.a.createElement("div",{className:"tag-page-container"},o.a.createElement("div",{className:"tag-header-container"},o.a.createElement(I.a,{fontSize:"large",className:"back-btn",onClick:function(){return e.props.history.push("/team/".concat(t._id))}}),o.a.createElement("h1",{className:"tag-header"},"Tags")),o.a.createElement("div",{className:"tag-list"},a&&a.length>0?a.map((function(e){return o.a.createElement("div",{className:"tagContainer",style:{backgroundColor:e.color}},o.a.createElement("p",{key:e.title},e.title))})):o.a.createElement("p",null,"No tags yet!")),o.a.createElement("div",{className:"tag-input-container"},o.a.createElement("label",{className:"input-label"},"What tag do you want to create?"),o.a.createElement("input",{type:"text",className:"tag-input",id:"tag",value:this.state.tag,onChange:this.onChange}),o.a.createElement("label",{className:"input-label"},"Describe your tag."),o.a.createElement("input",{type:"text",className:"tag-input",id:"tagDesc",value:this.state.tagDesc,onChange:this.onChange}),o.a.createElement("button",{className:"btn add-tag-btn",onClick:this.addTagClick},"Add Tag")))}}]),a}(o.a.Component)),ht=Object(T.b)((function(e){return{team:e.team,tags:e.tags}}),{addTag:function(e,t){return function(a){console.log(t),g.a.post("/tags/add",{tagData:t}).then((function(n){console.log(n);var o=n.data._id;g.a.post("/teams/".concat(e,"/tags/add"),{tagId:o}).then((function(e){console.log(e),a({type:"ADD_TAG",payload:t})}))})).catch((function(e){return console.log(e)}))}},getTeamWithId:C})(dt),pt=a(45),gt=a(138),vt=a(32),Et={isAuthenticated:!1,user:{},loading:!1},ft={err:""},bt={teamsList:[],matchedTeams:[],currTeam:{},lastAddedTodo:{},messagesList:[]},Nt={lastAddedNote:{}},Tt={lastAddedEvent:{}},yt={tags:[]},Ct=Object(pt.c)({auth:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Et,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_CURRENT_USER":return Object(vt.a)({},e,{isAuthenticated:t.payload,user:t.payload});case"USER_LOADING":return Object(vt.a)({},e,{loading:!0});default:return e}},error:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ft,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"GET_ERRORS":return{err:t.payload};default:return e}},team:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:bt,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"JOIN_TEAM":return e;case"GET_TEAMS_WITH_PROMPT":return Object(vt.a)({},e,{matchedTeams:t.payload});case"GET_TEAM_WITH_ID":return Object(vt.a)({},e,{currTeam:t.payload});case"GET_ALL_TEAMS":return Object(vt.a)({},e,{teamsList:t.payload});case"EDIT_TEAM":return Object(vt.a)({},e,{currTeam:t.payload});case"ADD_TODO_TO_TEAM":case"COMPLETE_TODO":case"DELETE_TODO":case"EDIT_TODO":return Object(vt.a)({},e,{lastAddedTodo:t.payload});case"GET_CHAT_HISTORY":return Object(vt.a)({},e,{messagesList:t.payload});default:return e}},note:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Nt,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD_NOTE_TO_TEAM":case"DELETE_NOTE":return{lastAddedNote:t.payload};default:return e}},event:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Tt,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD_EVENT_TO_TEAM":case"DELETE_EVENT":case"UPDATE_EVENT":return{lastAddedEvent:t.payload};default:return e}},tags:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:yt,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD_TAG":return e.tags.push(t.payload),e;default:return e}}}),kt=[gt.a],Ot=Object(pt.e)(Ct,{},Object(pt.d)(pt.a.apply(void 0,kt)));if(localStorage.jwtToken){var Dt=localStorage.jwtToken;v(Dt);var jt=f()(Dt);Ot.dispatch(b(jt));var St=Date.now()/1e3;jt.exp<St&&(Ot.dispatch(N()),window.location.href="./login")}var wt=function(){return o.a.createElement(T.a,{store:Ot},o.a.createElement(c.a,null,o.a.createElement($e,{exact:!0,path:"/",component:x}),o.a.createElement($e,{exact:!0,path:"/noteslist/:id",component:J}),o.a.createElement($e,{exact:!0,path:"/team/:id",component:He}),o.a.createElement($e,{path:"/editteam",component:be}),o.a.createElement($e,{path:"/teamsearch",component:he}),o.a.createElement($e,{exact:!0,path:"/team/:teamid/notes/tag/:tagid/:noteid",component:K}),o.a.createElement($e,{exact:!0,path:"/team/:teamid/notes/:noteid",component:K}),o.a.createElement($e,{exact:!0,path:"/team/:teamid/notes/tag/:tagid",component:oe}),o.a.createElement($e,{exact:!0,path:"/team/:teamid/notes",component:te}),o.a.createElement($e,{path:"/eventslist/:id",component:Ze}),o.a.createElement(i.b,{exact:!0,path:"/login",component:re}),o.a.createElement(i.b,{exact:!0,path:"/register",component:ie}),o.a.createElement($e,{path:"/edittodo",component:nt}),o.a.createElement($e,{path:"/addtodo",component:Fe}),o.a.createElement($e,{path:"/addevent",component:qe}),o.a.createElement($e,{path:"/chat",component:ut}),o.a.createElement($e,{path:"/messages",component:it}),o.a.createElement($e,{path:"/message",component:st}),o.a.createElement($e,{path:"/editevent",component:tt}),o.a.createElement($e,{exact:!0,path:"/createTeam",component:me}),o.a.createElement($e,{path:"/tags",component:ht})))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));r.a.render(o.a.createElement(wt,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))},68:function(e,t,a){},82:function(e,t,a){}},[[155,1,2]]]);
//# sourceMappingURL=main.20949fab.chunk.js.map